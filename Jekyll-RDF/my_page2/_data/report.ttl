@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix ns0: <http://rdfunit.aksw.org/ns/core#> .
@prefix ns1: <http://www.w3.org/ns/shacl#> .
@prefix dqv: <http://www.w3.org/ns/dqv#> .
@prefix oa: <http://www.w3.org/ns/oa#> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix : <http://stream-ontology.com/maturitymodel/> .
@prefix ownshaclcorrectness: <http://stream-ontology.com/maturitymodel/shapes/Correctness/> .
@prefix msv: <http://stream-ontology.com/metrics-severity/> .
@prefix mme: <http://stream-ontology.com/maturitymodel/executions/> .
@prefix sdmx-attribute: <http://purl.org/linked-data/sdmx/2009/attribute#> .

#################################################################
#    Instances of msv
# Maturity levels choosen by the rating value
#################################################################

msv:Motivation a oa:Motivation ;
  rdfs:label "Motivation to execute a dataset quality measurement pipeline" ;
  rdfs:comment "Motivation to execute a dataset quality measurement pipeline using a maturity model and creating a report in HTML." .

msv:MaturityLevel0 a msv:MaturityLevel ;
  msv:hasRequiredRatingOf 0 ;
  msv:level 0 ;
  oa:hasTarget <http://example.de/dataset1> ; # has to be changed when another dataset is valdiated
  oa:motivatedBy msv:Motivation ;
  oa:hasBody mme:QMD1 ; # has to be changed on each testset execution
  rdfs:label "Maturity level 0"@en ;
  dc:description "The maturity level which has no requirements and thus applies to every dataset."@en .

msv:MaturityLevel1 a msv:MaturityLevel ;
  msv:hasRequiredRatingOf 32 ;
  msv:level 1 ;
  oa:hasTarget <http://example.de/dataset1> ; # has to be changed when another dataset is valdiated
  oa:motivatedBy msv:Motivation ;
  oa:hasBody mme:QMD1 ; # has to be changed on each testset execution
  rdfs:label "Maturity level 1"@en ;
  dc:description "The maturity level which has the highest requirements in which all dimensions have to have the maximum rating value."@en .

#################################################################
#    Dataset which was tested
#################################################################

<http://example.de/dataset1> a dcat:Dataset ;
  rdfs:label "Dataset 1" .

###############################################

# Data cube definitions
:refMetric  a rdf:Property, qb:DimensionProperty ;
  rdfs:label "reference metric"@en ;
  rdfs:range dqv:Metric .
:refDate  a rdf:Property, qb:DimensionProperty ;
  rdfs:label "reference date"@en ;
  rdfs:range dcterms:date . # is xsd:dateTime better?
:refResource  a rdf:Property, qb:DimensionProperty ;
  rdfs:label "reference resource"@en ;
  rdfs:range rdfs:Resource .
:measurementValue a rdf:Property, qb:MeasureProperty ;
  rdfs:label "measurement severity"@en ;
  rdfs:range xsd:integer .

:dsd a qb:DataStructureDefinition;
  # The dimensions
  qb:component [ qb:dimension :refMetric; qb:order 1 ] ;
  qb:component [ qb:dimension :refDate; qb:order 2 ] ;
  qb:component [ qb:dimension :refResource; qb:order 3 ] ;
  # The measure(s)
  qb:component [ qb:measure :measurementValue ] .
################################################

# Maturity model
# For each category the dimensions and their metrics

:Accuracy a dqv:Category ; # Subclass of skos:Concept
  rdfs:label "Accuracy"@en ;
  skos:prevLabel "Accuracy"@en ;
  skos:definition ""@en .

:Correctness a dqv:Dimension ;
  rdfs:label "Correctness"@en ;
  dqv:inCategory :Accuracy ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Correctness/> ;
  msv:hasMaximumRatingValueOf 4 ;
  msv:hasMinimumRequiredRatingOf 4 .

:M1 a dqv:Metric ;
  dqv:inDimension :Correctness ;
  skos:definition "The source of the result is linked."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "4"^^xsd:integer .


:Precision a dqv:Dimension ;
  rdfs:label "Precision"@en ;
  dqv:inCategory :Accuracy ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Precision/> ;
  msv:hasMaximumRatingValueOf 1 ;
  msv:hasMinimumRequiredRatingOf 1 .

:M2 a dqv:Metric ;
  dqv:inDimension :Precision ;
  skos:definition "At least two decimals are provided."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "1"^^xsd:integer .


:Completeness a dqv:Category ;
  rdfs:label "Completeness"@en ;
  skos:prevLabel "Completeness"@en ;
  skos:definition ""@en .

:Sensitiveness a dqv:Dimension ;
  rdfs:label "Sensitiveness"@en ;
  dqv:inCategory :Completeness ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Sensitiveness/> ;
  msv:hasMaximumRatingValueOf 2 ;
  msv:hasMinimumRequiredRatingOf 2 .

:M3 a dqv:Metric ;
  dqv:inDimension :Sensitiveness ;
  skos:definition "Was the measurement done by a known device."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "2"^^xsd:integer .

:Documentation a dqv:Category ;
  rdfs:label "Documentation"@en ;
  skos:prevLabel "Documentation"@en ;
  skos:definition ""@en .

:Conciseness a dqv:Dimension ;
  rdfs:label "Conciseness"@en ;
  dqv:inCategory :Documentation ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Conciseness/> ;
  msv:hasMaximumRatingValueOf 1 ;
  msv:hasMinimumRequiredRatingOf 1 .

:M4 a dqv:Metric ;
  dqv:inDimension :Conciseness ;
  skos:definition "Has a low amount of filler words."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "1"^^xsd:integer .

:UsageCML a dqv:Dimension ;
  rdfs:label "UsageCML"@en ;
  dqv:inCategory :Documentation ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/UsageCML/> ;
  msv:hasMaximumRatingValueOf 1 ;
  msv:hasMinimumRequiredRatingOf 1 .

:M5 a dqv:Metric ;
  dqv:inDimension :UsageCML ;
  skos:definition "Documentation files are using common markup languages."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "1"^^xsd:integer .

:Coherence a dqv:Category ;
  rdfs:label "Coherence"@en ;
  skos:prevLabel "Coherence"@en ;
  skos:definition ""@en .

:Validity a dqv:Dimension ;
  rdfs:label "Validity"@en ;
  dqv:inCategory :Coherence ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Validity/> ;
  msv:hasMaximumRatingValueOf 10 ;
  msv:hasMinimumRequiredRatingOf 0 .

:M6 a dqv:Metric ;
  dqv:inDimension :Validity ;
  skos:definition "Values are in range of the specification."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "10"^^xsd:integer .

:Plausibility a dqv:Dimension ;
  rdfs:label "Plausibility"@en ;
  dqv:inCategory :Coherence ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Plausibility/> ;
  msv:hasMaximumRatingValueOf 10 ;
  msv:hasMinimumRequiredRatingOf 0 .

:M7 a dqv:Metric ;
  dqv:inDimension :Plausibility ;
  skos:definition "Values are similar to others."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "10"^^xsd:integer .

:Uniqueness a dqv:Dimension ;
  rdfs:label "Uniqueness"@en ;
  dqv:inCategory :Coherence ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/Uniqueness/> ;
  msv:hasMaximumRatingValueOf 1 ;
  msv:hasMinimumRequiredRatingOf 1 .

:M8 a dqv:Metric ;
  dqv:inDimension :Uniqueness ;
  skos:definition "The combination of the values is unique."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "1"^^xsd:integer .

:Multilingualism a dqv:Category ;
  rdfs:label "Multilingualism"@en ;
  skos:prevLabel "Multilingualism"@en ;
  skos:definition ""@en .

:English a dqv:Dimension ;
  rdfs:label "English"@en ;
  dqv:inCategory :Multilingualism ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/English/> ;
  msv:hasMaximumRatingValueOf 1 ;
  msv:hasMinimumRequiredRatingOf 1 .

:M9 a dqv:Metric ;
  dqv:inDimension :English ;
  skos:definition "A language detector detected english."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "1"^^xsd:integer .

:German a dqv:Dimension ;
  rdfs:label "German"@en ;
  dqv:inCategory :Multilingualism ;
  sh:shapesGraph <http://stream-ontology.com/maturitymodel/shapes/German/> ;
  msv:hasMaximumRatingValueOf 1 ;
  msv:hasMinimumRequiredRatingOf 1 .

:M10 a dqv:Metric ;
  dqv:inDimension :German ;
  skos:definition "A language detector detected german."@en ;
  dqv:expectedDataType xsd:integer ;
  msv:hasRatingValueOf "1"^^xsd:integer .

################################################

# RDFUnit results
<urn:uuid:4891544a-f12c-4e0f-be3f-36968a422ce7>
    a prov:Activity, <http://rdfunit.aksw.org/ns/core#TestExecution>, <http://www.w3.org/ns/shacl#ValidationReport> ;
    ns0:executionType "aggregatedTestCaseResult"^^xsd:string ;
    ns0:source <http://example.de/dataset1> ;
    ns0:testsError "0"^^xsd:nonNegativeInteger ;
    ns0:testsFailed "0"^^xsd:nonNegativeInteger ;
    ns0:testsRun "1"^^xsd:nonNegativeInteger ;
    ns0:testsSuceedded "1"^^xsd:nonNegativeInteger ;
    ns0:testsTimeout "0"^^xsd:nonNegativeInteger ;
    ns0:totalIndividualErrors "0"^^xsd:nonNegativeInteger ;
    prov:endedAtTime "2022-03-08T17:23:53.888Z"^^xsd:dateTime ;
    prov:startedAtTime "2022-03-08T17:23:53.753Z"^^xsd:dateTime ;
    prov:wasStartedBy <http://localhost/> ;
    ns1:conforms true ;
    ns1:result <urn:uuid:4891544a-f12c-4e0f-be3f-36968a422ce7/fc56c7a9-79bf-4586-9622-42a6d8a2e11f> ;
    rdfs:seeAlso mme:QMD1 .

<urn:uuid:4891544a-f12c-4e0f-be3f-36968a422ce7/fc56c7a9-79bf-4586-9622-42a6d8a2e11f>
    a ns0:StatusTestCaseResult, ns0:AggregatedTestResult, ns0:TestCaseResult ;
    dc:date "2022-03-08T17:23:53.887Z"^^xsd:dateTime ;
    dc:description "Values are literals with German language tag."^^xsd:string ;
    ns0:resultCount 0 ;
    ns0:resultPrevalence 32 ;
    ns0:resultStatus ns0:ResultStatusSuccess ;
    ns0:testCase [ a <http://rdfunit.aksw.org/data/tests#class_names_camel_case> ] ;
    prov:wasAssociatedWith :M1 ;
    ns0:testCaseLogLevel <http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#ERROR> ;
    prov:wasGeneratedBy <urn:uuid:4891544a-f12c-4e0f-be3f-36968a422ce7> .

# QMD used to group measurements
# has to be generated per testset execution
mme:QMD1 a dqv:QualityMeasurementDataset ; # subclas of qb:DataSet
  rdfs:label "Quality measurement dataset #1"@en ;
  rdfs:description "Quality measurement dataset which groups dqv:QualityMeasurement."@en ;
  prov:startedAtTime "2022-03-08T17:23:53.888Z"^^xsd:dateTime ;
  qb:structure :dsd .

# Data cube observations which are also dqv:QualityMeasurements <- all synthetic
mme:QM1 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet mme:QMD1 ;
  :refMetric :M1 ;
  :refDate "2022-03-08T17:23:53.753Z"^^xsd:dateTime ;
  :refResource <http://example.de/dataset1> ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  :measurementValue 4 ;
  # dqv
  dqv:isMeasurementOf :M1 ;
  dqv:computedOn <http://example.de/dataset1> ;
  dqv:value 4 .


# the following QualityMeasurements properties are not well sorted
# And old!
mme:QM2 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M2 ;
  mme:refDimension :Precision ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 1 ;
  # dqv
  dqv:isMeasurementOf :M2 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 1 .
mme:QM3 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M3 ;
  mme:refDimension :Sensitiveness ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 2 ;
  # dqv
  dqv:isMeasurementOf :M3 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 2 .
mme:QM4 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M4 ;
  mme:refDimension :Conciseness ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 1 ;
  # dqv
  dqv:isMeasurementOf :M4 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 1 .
mme:QM5 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M5 ;
  mme:refDimension :UsageCML ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 1 ;
  # dqv
  dqv:isMeasurementOf :M5 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 1 .
mme:QM6 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M6 ;
  mme:refDimension :Validity ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 10 ;
  # dqv
  dqv:isMeasurementOf :M6 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 10 .
mme:QM7 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M7 ;
  mme:refDimension :Plausibility ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 10 ;
  # dqv
  dqv:isMeasurementOf :M7 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 10 .
mme:QM8 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M8 ;
  mme:refDimension :Uniqueness ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 1 ;
  # dqv
  dqv:isMeasurementOf :M8 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 1 .
mme:QM9 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M9 ;
  mme:refDimension :English ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 1 ;
  # dqv
  dqv:isMeasurementOf :M9 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 1 .
mme:QM10 a dqv:QualityMeasurement;
  # Data cube
  qb:dataSet :dataset1 ;
  mme:refMeasurement mme:QMD1 ;
  mme:refMetric :M10 ;
  mme:refDimension :German ;
  sdmx-attribute:unitMeasure <http://www.wurvoc.org/vocabularies/om-1.8/Unit_of_measure> ;# no concept known for this
  mme:measurementValue 1 ;
  # dqv
  dqv:isMeasurementOf :M10 ;
  dqv:computedOn <http://stream-ontology.com/data/1> ;
  dqv:value 1 .
